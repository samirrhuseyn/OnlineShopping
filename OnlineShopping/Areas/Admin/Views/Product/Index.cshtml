@using EntityLayer.Concrete
@model List<Product>
@{
    ViewData["Title"] = "Məhsullar";
    Layout = "~/Views/Shared/_adminLayout.cshtml";
}

<div class="row">
    @foreach (var product in Model)
    {
        <div class="col-lg-12 col-xl-6 col-xxl-4">
            <div class="card">
                <div class="card-body">
                    <div class="row m-b-30">
                        <div class="col-md-5 col-xxl-12">
                            <div class="new-arrival-product mb-4 mb-xxl-4 mb-md-0">
                                <div class="new-arrivals-img-contnent">
                                    <img style="height:400px; width:350px;" class="img-fluid" src="@product.Image1" alt="">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-7 col-xxl-12">
                            <div class="new-arrival-content position-relative">
                                <h4><a href="/Admin/Product/Details/@product.ProductID">
                                        @product.ProductName  @if(product.Interest != 0)
                                        {
                                            <span class="text-danger"> -@product.Interest%</span>
                                        }
                                        else
                                        {
                                            
                                        }
                                    </a></h4>
                                <div class="comment-review star-rating">
                                    <ul>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa-solid fa-star-half-stroke"></i></li>
                                        <li><i class="fa-solid fa-star-half-stroke"></i></li>
                                    </ul>
                                    @if(product.DiscountedPrice != null)
                                    {
                                         <p class="price"><del>@product.Price ₼</del> @product.DiscountedPrice ₼</p>
                                    }
                                    else
                                    {
                                        <p class="price">@product.Price ₼</p>
                                    }
                                   
                                </div>
                                @if (product.InStock)
                                {
                                    <p><span class="item fs-14">Mövcudluq:</span> Stokda var <i class="fa fa-check-circle text-success"></i></p>
                                }
                                else
                                {
                                    <p><span class="item fs-14">Mövcudluq:</span> Stokda yoxdur <i class="fa fa-circle-xmark text-danger"></i></p>
                                }
                                <p><span class="item fs-14">Məhsul Kodu:</span> @product.ProductCode </p>
                                <p><span class="item fs-14">Mağaza: </span>@product.Store.Name</p>
                                @if (product.ProductDescription.Length < 161)
                                {
                                    <span>@Html.Raw(product.ProductDescription)</span>
                                }
                                else
                                {
                                    <span>@Html.Raw(product.ProductDescription.Substring(0, 161)) ...</span>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
